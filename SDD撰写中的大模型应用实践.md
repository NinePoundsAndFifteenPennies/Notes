# 大模型在软件设计规格说明书撰写中的实践应用

## 背景

在完成智记便签项目的软件需求规格说明书（SRS）后，我需要撰写对应的软件设计规格说明书（SDD）。这是我第一次独立完成这类技术文档，面对复杂的架构设计、模块划分、接口定义等内容，我充分利用了大模型的能力来辅助完成。

## 遇到的困难与大模型的作用

### 1. 架构层次划分的疑惑

**困难**：在设计系统架构时，我最初不清楚应该如何划分层次。是按功能模块划分还是按技术层次划分？便签编辑、数据管理、云同步这些模块之间是什么关系？

**大模型的指导**：我向大模型描述了项目的核心功能和现有代码结构（NotesProvider、WorkingNote、NoteEditActivity等类），询问"对于一个Android便签应用，采用什么架构模式比较合适？"大模型建议采用三层架构：表示层（UI）、业务逻辑层、数据访问层。这个建议让我豁然开朗——NoteEditActivity属于表示层，WorkingNote是业务逻辑层，NotesProvider是数据访问层。我按照这个思路重新整理了架构设计，层次清晰了很多。

### 2. UML类图的绘制困难

**困难**：SDD要求用UML图表达设计，但我不熟悉用LaTeX的TikZ包画类图。类之间的关系（依赖、关联、组合）应该用什么箭头？布局如何调整才不会重叠？

**大模型的帮助**：我把需求告诉大模型："我需要画一个类图，包含NoteEditActivity、WorkingNote、MarkdownRenderer三个类，NoteEditActivity使用后两者。"大模型直接生成了TikZ代码模板，包括节点定义、连接线、标注。我在此基础上微调位置和字段内容，效率提升了数倍。对于数据库ER图、序列图等其他图表，我也采用了同样的方法。

### 3. 模块接口设计的完整性

**困难**：在写"模块详细设计"时，我知道要描述接口，但不确定应该包含哪些要素。只写函数签名够不够？需要说明前置条件和后置条件吗？

**大模型的建议**：我问："软件设计文档中的接口设计应该包含哪些内容？"大模型列出了标准格式：接口名称、功能描述、输入参数（类型和含义）、返回值、前置条件、后置条件。我按照这个模板逐个接口补充完整，文档的专业性明显提升。

### 4. 与SRS保持一致性的挑战

**困难**：写SDD的过程中，我发现自己在描述Markdown渲染功能时，用词和SRS不完全一致。SRS说"将Markdown渲染为HTML字符串"，我在SDD里写成了"生成HTML文档并添加CSS样式"，导致前后矛盾。

**大模型的审查**：我把SRS和SDD的相关章节同时发给大模型，请它帮我检查一致性。大模型指出："SRS中没有提到CSS样式，SDD不应该增加这个细节。"这提醒我回到原始设计笔记，发现确实没有CSS的需求。我立即修正了SDD的描述，确保两份文档的一致性。

### 5. 数据库设计细节的补充

**困难**：在写数据库设计章节时，我只列出了表结构，但缺少索引设计和完整性约束的说明。我不太确定哪些字段应该建索引。

**大模型的分析**：我向大模型提供了note表和data表的字段定义，询问："对于一个便签应用，这些字段中哪些应该建索引？"大模型根据常见查询场景（按文件夹查询、按修改时间排序、按提醒时间查询）建议在parent_id、modified_date、alerted_date上建索引。这些建议非常实用，我全部采纳并补充到了文档中。

## 收获与反思

通过这次实践，我深刻体会到大模型是一个优秀的"技术顾问"。它不会替我思考，但会在我遇到具体问题时提供专业建议。最有价值的是，它能快速帮我理解规范、生成代码模板、检查一致性，这些都是耗时但必要的工作。

但我也意识到，不能完全依赖大模型。当它建议添加CSS样式时，我应该第一时间回到原始需求确认，而不是盲目接受。大模型的作用是辅助，最终的判断和决策还是要靠自己对项目的深入理解。

这次经验让我明白：大模型 + 人的批判性思维 = 高效且高质量的文档产出。
